# GTOWizard → TexasSolver → Database Workflow

This document explains how to create position-specific GTO solutions using GTOWizard ranges.

## Workflow Overview

```
1. GTOWizard (Get ranges)
   ↓
2. Paste into gtowizard_ranges.txt
   ↓
3. Run converter → texasolver_ranges.txt
   ↓
4. Generate solver configs (with GTOWizard ranges)
   ↓
5. Run TexasSolver
   ↓
6. Import to database
```

---

## Step 1: Get Ranges from GTOWizard

### Example: BTN Opening Range

1. Go to GTOWizard
2. Navigate to: **6-max Cash** → **100bb** → **Preflop** → **BTN RFI**
3. Export/copy the range data in **combo format**
4. Format looks like: `2d2c: 1,2h2c: 1,2h2d: 1,...`

### Ranges We Need (20 total):

**Opening Ranges:**
- UTG_open
- MP_open
- CO_open
- BTN_open
- SB_open

**BB Defense:**
- BB_vs_UTG_call
- BB_vs_UTG_3bet
- BB_vs_MP_call
- BB_vs_MP_3bet
- BB_vs_CO_call
- BB_vs_CO_3bet
- BB_vs_BTN_call
- BB_vs_BTN_3bet

**SB Defense:**
- SB_vs_BTN_call
- SB_vs_BTN_3bet
- SB_vs_CO_call
- SB_vs_CO_3bet

**Cold Calls:**
- BTN_vs_CO_call
- BTN_vs_CO_3bet
- BTN_vs_MP_call

---

## Step 2: Paste Ranges

Open: `/root/Documents/Ploit/solver/gtowizard_ranges.txt`

Find the section for the range you're adding, for example:

```
[TODO] BTN_open
# GTOWizard: 6-max Cash, 100bb, BTN RFI
---


```

Paste the range data between `---` and the next section:

```
[TODO] BTN_open
# GTOWizard: 6-max Cash, 100bb, BTN RFI
---
2d2c: 1,2h2c: 1,2h2d: 1,2s2c: 1,2s2d: 1,2s2h: 1,3c2c: 1,3c2d: 1,...
```

Change `[TODO]` to `[DONE]`:

```
[DONE] BTN_open
```

---

## Step 3: Convert Ranges

Once you've pasted all ranges (or a batch), run the converter:

```bash
cd /root/Documents/Ploit/solver
python3 convert_gtowizard_ranges.py
```

This creates: `texasolver_ranges.txt` with converted ranges in TexasSolver format.

**Example output:**
```
[BTN_open]
AA,KK,QQ,JJ,TT,99,88,77,66,55,44:0.75,33:0.5,22:0.5,AK,AQs,AQo...
```

---

## Step 4: Generate Solver Configs

Run the config generator (which will use the converted ranges):

```bash
python3 generate_position_scenarios_from_gtowizard.py
```

This creates solver config files in `configs_positions/` using your GTOWizard ranges.

---

## Step 5: Run Solver

```bash
./run_position_solves.sh
```

This runs TexasSolver on all position-specific configs in parallel.

---

## Step 6: Import to Database

```bash
python3 ../backend/scripts/import_gto_solutions.py
```

This imports the solved scenarios to your Supabase database.

---

## Files

| File | Purpose |
|------|---------|
| `gtowizard_ranges.txt` | **You edit this** - Paste GTOWizard ranges here |
| `convert_gtowizard_ranges.py` | Converter script (GTOWizard → TexasSolver) |
| `texasolver_ranges.txt` | Converted ranges (auto-generated) |
| `generate_position_scenarios_from_gtowizard.py` | Config generator (uses converted ranges) |
| `configs_positions/*.txt` | Solver config files (auto-generated) |
| `run_position_solves.sh` | Parallel solve script |
| `outputs_positions/*.json` | Solver outputs (generated by TexasSolver) |

---

## Progress Tracking

Edit `gtowizard_ranges.txt` and update:

```
# PROGRESS TRACKER
# Total ranges needed: 20
# Ranges pasted: 5
# Status: 25%
```

Once all 20 ranges are marked `[DONE]`, you're ready to convert and solve!

---

## Example: Complete Flow

```bash
# 1. You paste ranges in gtowizard_ranges.txt and mark [DONE]

# 2. Convert
cd /root/Documents/Ploit/solver
python3 convert_gtowizard_ranges.py

# 3. Generate configs
python3 generate_position_scenarios_from_gtowizard.py

# 4. Run solver (takes ~10-30min for 12 scenarios)
./run_position_solves.sh

# 5. Import to database
cd ../backend/scripts
python3 import_gto_solutions.py

# Done! Position-specific GTO solutions are now in database
```
